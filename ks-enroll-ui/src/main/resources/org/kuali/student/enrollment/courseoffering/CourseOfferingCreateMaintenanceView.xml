<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd">
    <!--
     Copyright 2007-2009 The Kuali Foundation

     Licensed under the Educational Community License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

     http://www.opensource.org/licenses/ecl2.php

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
    -->

    <!-- DTO DEFINITION FOR the Wrapper -->
    <bean id="CourseOfferingCreateWrapper" parent="CourseOfferingCreateWrapper-parentBean"/>

      <bean id="CourseOfferingCreateWrapper-parentBean" abstract="true" parent="DataObjectEntry">
        <property name="dataObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingCreateWrapper"/>
        <property name="titleAttribute" value="courseOfferingInfo.id"/>
        <property name="attributes">
          <list>
          </list>
        </property>
        <property name="objectLabel" value="Course Offering"/>
        <property name="primaryKeys">
          <list>
            <value>courseOfferingInfo.id</value>
          </list>
        </property>
    </bean>

    <!--
        This view mapped to the path '/courseOffering' at CourseOfferingController.
        UX at:
            1. http://ux.ks.kuali.org.s3.amazonaws.com/wireframes/ENR/Course_Offering/v17/start.html
            2. http://ux.ks.kuali.org.s3.amazonaws.com/wireframes/ENR/Complex%20Course%20Offerings/Sandbox/start.html (For CCO)
        HLDS at:
            https://wiki.kuali.org/display/STUDENT/KS+ENR+HLDS+-+Manage+Complex+Course+Offerings+%28Part+1%29
    -->

    <bean id="KS-CourseOffering-Create-MaintenanceView" parent="KS-CourseOffering-MaintenanceViewWithTermContextBarPlaceholder" p:componentSecurity.viewAuthz="true">
        <property name="id" value="createCourseOfferingPage"/>
        <property name="dataObjectClassName" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingCreateWrapper"/>
        <property name="formClass" value="org.kuali.rice.krad.web.form.MaintenanceDocumentForm"/>
        <property name="viewHelperServiceClass" value="org.kuali.student.enrollment.class2.courseoffering.service.impl.CourseOfferingCreateMaintainableImpl" />
        <property name="singlePageView" value="false"/>
        <property name="entryPageId" value="courseOfferingCreatePage"/>

        <property name="headerText" value="Create Course Offering"/>   <!-- This gets updated dynamically by JS via 'viewHeaderUpdater'-div -->
        <property name="breadcrumbOptions.homewardPathBreadcrumbs">
            <list>
                <ref bean="KS-HomewardPathBreadcrumbs-Home"/>
                <ref bean="KS-HomewardPathBreadcrumbs-Enrollment"/>
            </list>
        </property>

        <property name="breadcrumbOptions.breadcrumbOverrides">
            <list>
                <bean parent="Uif-BreadcrumbItem" p:render="@{document.newMaintainableObject.dataObject.catalogCourseCode eq null}">
                    <property name="label" value="Create Course Offering"/>
                </bean>
                <bean parent="Uif-BreadcrumbItem" p:render="@{document.newMaintainableObject.dataObject.catalogCourseCode ne null}">
                    <property name="label" value="Create Course Offering"/>
                    <property name="url.viewId" value="createCourseOfferingPage"/>
                    <property name="url.controllerMapping" value="courseOfferingCreate"/>
                    <property name="url.requestParameters">
                        <map key-type="java.lang.String" merge="true">
                            <entry key="methodToCall" value="start"/>
                            <entry key="dataObjectClassName" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingCreateWrapper"/>
                            <entry key="hideReturnLink" value="true"/>
                            <entry key="showMaintenanceLinks" value="true"/>
                            <entry key="viewName" value="Create Course Offering"/>
                        </map>
                    </property>
                </bean>
                <bean parent="Uif-BreadcrumbItem" p:render="@{document.newMaintainableObject.dataObject.catalogCourseCode ne null}">
                    <property name="label" value="Create @{document.newMaintainableObject.dataObject.catalogCourseCode}"/>
                </bean>
            </list>
        </property>

        <property name="authorizer">
            <bean class="org.kuali.student.enrollment.main.view.KsMaintenanceViewAuthorizerBase"/>
        </property>

        <property name="header.cssClasses">
          <list >
            <value>ks-unified-header</value>
          </list>
        </property>
        <property name="additionalCssFiles">
            <list merge="true">
                <value>ks-enroll/css/acal.css</value>
            </list>
        </property>
        <property name="expressionVariables">
            <map merge="true">
                <entry key="showCopyCourseOffering" value="document.newMaintainableObject.dataObject.showCopyCourseOffering"/>
                <entry key="showAllSections" value="document.newMaintainableObject.dataObject.showAllSections"/>
                <entry key="showTermOfferingLink" value="document.newMaintainableObject.dataObject.showTermOfferingLink"/>
                <entry key="noOfTermOfferings" value="document.newMaintainableObject.dataObject.noOfTermOfferings"/>
                <entry key="selectCrossListingAllowed" value="document.newMaintainableObject.dataObject.selectCrossListingAllowed"/>
            </map>
        </property>

        <property name="items">
            <list>
                <ref bean="KS-CourseOffering-CopyPage"/>
                <bean parent="KS-CourseOffering-CreatePage"/>
            </list>
        </property>
        <property name="dialogs">
          <list>
            <ref bean="jointCourseFormatsDeleteDialog"/>
          </list>
        </property>
    </bean>

    <bean id="Uif-MainteanceDialogResponse" parent="Uif-DialogResponse">
        <property name="bindingInfo.bindToForm" value="true"/>
    </bean>

    <bean id="Uif-MainteanceDialogExplanation" parent="Uif-DialogExplanation">
        <property name="bindingInfo.bindToForm" value="true"/>
    </bean>

    <bean id="jointCourseFormatsDeleteDialog" parent="Uif-DialogGroup"
          p:promptText="Note that the deselecting @{document.newMaintainableObject.dataObject.selectedJointCourseCode} will delete the delivery formats already assigned for this course." >
        <property name="headerText" value="Warning - Formats Already Assigned"/>
        <property name="availableResponses">
          <list>
            <bean parent="Uif-KeyLabelPair" p:key="Y" p:value="Update Formats"/>
            <bean parent="Uif-KeyLabelPair" p:key="N" p:value="Cancel"/>
          </list>
        </property>
        <property name="responseInputField">
          <bean parent="Uif-MainteanceDialogResponse"/>
        </property>
        <property name="explanation">
          <bean parent="Uif-MainteanceDialogExplanation"/>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-TableCollectionSubSection" p:collectionLookup.render="false" p:readOnly="true" p:layoutManager.renderSequenceField="false">
                    <property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.FormatOfferingWrapper" />
                    <property name="propertyName" value="dialogFormatOfferingWrapperList" />
                    <property name="layoutManager.applyAlternatingRowStyles" value="false" />
                    <property name="layoutManager.applyDefaultCellWidths" value="false" />
                    <property name="layoutManager.richTable.render" value="false" />
                    <property name="items">
                        <list>
                             <bean parent="Uif-DataField" p:label="CODE" p:propertyName="courseCode"/>
                             <bean parent="Uif-DataField" p:propertyName="activitesUI"  p:readOnly="true" p:label="FORMAT"/>
                             <bean parent="Uif-DataField" p:propertyName="gradeRosterUI" p:label="GRADE ROSTER LEVEL"/>
                             <bean parent="Uif-DataField" p:propertyName="finalExamUI" p:label="FINAL EXAM DRIVER ACTIVITY"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!--This will be displayed for Copy from Catalog action-->
    <bean id="KS-Catalog-CourseOfferingCodeSubSection" parent="Uif-VerticalBoxSection">
        <property name="style" value="margin-left:50px;"/>
        <property name="header.style" value="margin-left:-50px;margin-bottom:10px;"/>
        <property name="disclosure.render" value="false"/>
        <property name="headerText" value="Course Information"/>
        <property name="items">
            <list>
                <bean parent="Uif-DataField" p:propertyName="course.code" p:label="Course Code(s)"/>
                <bean parent="Uif-InputField" p:propertyName="courseOfferingSuffix"
                      p:label="Suffix" p:fieldLabel.renderColon="false">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="10" />
                    </property>
                </bean>
                <bean parent="Uif-DataField" p:propertyName="course.courseTitle" p:label="Course Title"/>
                <bean parent="Uif-DataField" p:propertyName="creditCount" p:label="Credits"/>
                <ref bean="KS-CoListed-Checkbox-Group"/>
            </list>
        </property>
    </bean>

    <bean id="KS-CoListed-Checkbox-Group" parent="Uif-InputField"  p:propertyName="alternateCOCodes" p:readOnlyDisplayReplacementPropertyName="alternateCOCodesUIList" p:readOnly="@{!#dp.selectCrossListingAllowed}" p:render="@{!#dp.crossListedCourseCodes.isEmpty()}">
        <property name="label" value="Cross List As"/>
        <property name="control">
            <bean parent="Uif-HorizontalCheckboxesControl"/>
        </property>
        <property name="optionsFinder">
            <bean class="org.kuali.student.enrollment.class2.courseoffering.keyvalue.populateCrossCourseListKeyValues" p:addBlankOption="false" />
        </property>
    </bean>

    <bean id="KS-Catalog-JointCourse-Section" parent="Uif-TableCollectionSubSection" p:collectionLookup.render="false" 
          p:render="@{#dp.showJointOption}" p:renderAddLine="false" p:layoutManager.renderSequenceField="false">
        <property name="headerText" value="Jointly Defined Courses"/>
        <property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.JointCourseWrapper" />
        <property name="propertyName" value="jointCourses" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
        <property name="layoutManager.applyDefaultCellWidths" value="false" />
        <property name="layoutManager.richTable.render" value="false" />
        <property name="items">
            <list>
                <bean parent="Uif-DataField" p:label="Code" p:propertyName="courseCode"/>
                <bean parent="Uif-DataField" p:label="Title" p:propertyName="courseTitle"/>
                <bean parent="Uif-MessageField" p:label="Status" p:messageText="@{#lp.alreadyOffered ? 'Offered' : 'Not Offered'}"/>
            </list>
        </property>
        <property name="lineActions">
            <list>
                <bean parent="Uif-ActionLink" p:ajaxSubmit="false" p:methodToCall="markCourseForJointOffering" p:actionEvent="createNewCO"
                      p:performClientSideValidation="false" p:actionLabel="@{!#lp.selectedToJointlyOfferred ? 'Create New' : 'Deselect'}" p:onClickScript="writeHiddenToForm(&quot;document.newMaintainableObject.dataObject.selectedIndex&quot;, &quot;@{#index}&quot;);" p:render="@{!#lp.alreadyOffered and #line.isEnableCreateNewCOActionLink()}"/>
            </list>
        </property>
    </bean>


    <bean id="KS-Catalog-FormatOfferingSubSection-New" parent="Uif-VerticalBoxSubSection">
        <property name="headerText" value="Add Delivery Formats and Activities" />
        <property name="items">
            <list>
                <bean parent="Uif-MessageField" p:messageText="Changes made below will create delivery formats for: [b]@{#dp.jointCourseCodes}[/b]" p:render="@{#dp.showJointOption}" p:style="background-color:#C8E4F7; padding-top:10px; padding-bottom:10px; padding-left:10px;"/>
                <bean parent="Uif-VerticalBoxSection" p:style="background-color:#f3f3f3; padding-top:10px; padding-bottom:10px; padding-left:10px; ">
                    <property name="items">
                        <list>
                            <bean parent="Uif-HorizontalBoxSection">
                                <property name="items">
                                    <list>
                                        <bean id="showCreateFormatLink" parent="Uif-ActionLink" p:methodToCall="showCreateFormatSection" p:style="font-weight:bold;" p:actionLabel="Add Formats" p:render="@{#dp.showJointOption and !#dp.showCreateFormatSection}"/>
                                        <bean id="hideCreateFormatLink" parent="Uif-Message" p:messageText="Add Formats" p:style="font-weight:bold;" p:render="@{#dp.showJointOption and #dp.showCreateFormatSection}"/>
                                        <bean parent="Uif-Message" p:messageText="  |  " p:style="font-weight:bold;" p:render="@{#dp.showJointOption}"/>
                                        <bean id="showCopyFormatLink" parent="Uif-ActionLink" p:methodToCall="showCopyFromJointOffering" p:style="font-weight:bold;" p:actionLabel="Copy from Joint Offering" p:render="@{#dp.showJointOption and !#dp.showCopyFormatSection}"/>
                                        <bean id="hideCopyFormatLink" parent="Uif-Message" p:messageText="Copy from Joint Offering" p:style="font-weight:bold;" p:render="@{#dp.showJointOption and #dp.showCopyFormatSection}"/>
                                    </list>
                                </property>
                            </bean>
                            <ref bean="KS-Catalog-AddFormatOffering"/>
                            <ref bean="KS-Catalog-CopyFormatOffering"/>
                            <bean parent="Uif-PrimaryActionButton" p:methodToCall="addFormat" p:actionLabel="Add" p:performClientSideValidation="false" p:render="@{#actionFlags[#Constants.KUALI_ACTION_CAN_ROUTE]}"/>
                        </list>
                    </property>
                </bean>
                <ref bean="KS-Catalog-ExistingFormatOfferings"/>
            </list>
        </property>
    </bean>

    <bean id="KS-Catalog-ExistingFormatOfferings" parent="Uif-TableCollectionSubSection" p:collectionLookup.render="false" p:renderAddLine="false"
          p:layoutManager.renderSequenceField="false">
        <property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.FormatOfferingWrapper" />
        <property name="propertyName" value="formatOfferingWrappers" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
        <property name="layoutManager.applyDefaultCellWidths" value="true" />
        <property name="layoutManager.richTable.render" value="false" />
        <property name="items">
            <list>
                 <bean parent="Uif-DataField" p:label="CODE" p:propertyName="courseCode"/>
                 <bean parent="Uif-DataField" p:propertyName="activitesUI"  p:readOnly="true" p:label="FORMAT"/>
                 <bean parent="Uif-InputField" p:propertyName="formatOfferingInfo.gradeRosterLevelTypeKey"
                      p:label="GRADE ROSTER LEVEL" p:required="true" p:labelPlacement="TOP" p:finalizeMethodToCall="populateGradeRosterLevelTypes">
                    <property name="control">
                        <bean parent="Uif-DropdownControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="formatOfferingInfo.finalExamLevelTypeKey"
                      p:label="FINAL EXAM DRIVER ACTIVITY" p:required="true" p:labelPlacement="TOP" p:finalizeMethodToCall="populateFinalExamDriverTypes">
                    <property name="control">
                        <bean parent="Uif-DropdownControl"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-Catalog-CopyFormatOffering" parent="Uif-TableCollectionSubSection" p:collectionLookup.render="false" p:renderAddLine="false"
              p:layoutManager.renderSequenceField="false" p:renderLineActions="false" p:render="@{#dp.showCopyFormatSection}">
        <property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.FormatOfferingWrapper" />
        <property name="propertyName" value="copyFromFormats" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
        <property name="layoutManager.applyDefaultCellWidths" value="false" />
        <property name="layoutManager.richTable.render" value="false" />
        <property name="lineSelectPropertyName" value="selectedToCopy"/>
        <property name="items">
            <list>
                 <bean parent="Uif-InputField" p:propertyName="selectedToCopy" p:required="false">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                 </bean>
                 <bean parent="Uif-DataField" p:label="CODE" p:propertyName="courseCode"/>
                 <bean parent="Uif-DataField" p:propertyName="activitesUI"  p:readOnly="true" p:label="FORMAT"/>
                 <bean parent="Uif-DataField" p:propertyName="gradeRosterUI"  p:readOnly="true" p:label="GRADE ROSTER LEVEL"/>
                 <bean parent="Uif-DataField" p:propertyName="finalExamUI"  p:readOnly="true" p:label="FINAL EXAM DRIVER ACTIVITY"/>
            </list>
        </property>
    </bean>

    <bean id="KS-Catalog-AddFormatOffering" parent="Uif-HorizontalBoxSection" p:render="@{#dp.showCreateFormatSection}">
        <property name="disclosure.render" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="addLineFormatWrapper.formatId"  p:required="true" p:label="FORMAT" p:forceSessionPersistence="true">
                    <property name="control">
                        <bean parent="Uif-DropdownControl">
                            <property name="cssClasses">
                              <list merge="true">
                                <value>ignoreValid</value>
                              </list>
                            </property>
                        </bean>
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.enrollment.class2.courseoffering.keyvalue.FormatOfferingTypeForCreateCOTypeKeyValues" p:addBlankOption="false"/>
                    </property>
                </bean>

                 <bean parent="Uif-InputField-LabelTop" p:propertyName="addLineFormatWrapper.gradeRosterLevelTypeKey" p:refreshWhenChangedPropertyNames="#dp.addLineFormatWrapper.formatId" p:forceSessionPersistence="true"
                      p:label="GRADE ROSTER LEVEL" p:required="true" p:finalizeMethodToCall="populateGradeRosterLevelTypes">
                    <property name="control">
                        <bean parent="Uif-DropdownControl">
                            <property name="cssClasses">
                              <list merge="true">
                                <value>ignoreValid</value>
                              </list>
                            </property>
                        </bean>
                    </property>
                </bean>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="addLineFormatWrapper.finalExamLevelTypeKey" p:refreshWhenChangedPropertyNames="#dp.addLineFormatWrapper.gradeRosterLevelTypeKey,#dp.addLineFormatWrapper.formatId" p:forceSessionPersistence="true"
                      p:label="FINAL EXAM DRIVER ACTIVITY" p:required="true" p:finalizeMethodToCall="populateFinalExamDriverTypes">
                    <property name="control">
                        <bean parent="Uif-DropdownControl">
                            <property name="cssClasses">
                              <list merge="true">
                                <value>ignoreValid</value>
                              </list>
                            </property>
                        </bean>
                    </property>
                </bean>

            </list>
        </property>
    </bean>

    <!-- This is used to display a list of existing offerings in the current section. This will be displayed for Copy from Catalog action-->
    <bean id="KS-Catalog-ExistingOfferingsSubSection" parent="Uif-TableCollectionSubSection" p:collectionLookup.render="false" p:readOnly="true">
		<property name="headerText" value="Existing Offerings for @{document.newMaintainableObject.dataObject.term?.name}" />
		<property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingEditWrapper" />
		<property name="propertyName" value="existingOfferingsInCurrentTerm" />
		<property name="layoutManager.renderSequenceField" value="false" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
		<property name="items">
           <list>
               <bean parent="Uif-InputField" p:propertyName="courseOfferingCode" p:label="COURSE OFFERING CODE" p:readOnly="true">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
               <bean parent="Uif-InputField" p:propertyName="courseOfferingInfo.courseOfferingTitle" p:label="COURSE TITLE" p:readOnly="true">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="courseOfferingInfo.creditCnt" p:label="CREDITS" p:readOnly="true">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="gradingOption" p:label="GRADING" p:readOnly="true">
                    <property name="control">
                        <bean parent="Uif-TextControl"/>
                    </property>
                </bean>
           </list>
         </property>
    </bean>


    <!-- Create Course Offering Start -->

    <bean id="KS-CourseOffering-CreatePage" parent="KS-Uif-Page" p:disclosure.render="false" p:readOnly="@{#view.readOnly}" p:style="overflow:hidden;">
        <property name="id" value="courseOfferingCreatePage"/>
        <property name="headerText" value=""/>
        <property name="pageSourceFile" value="CourseOfferingCreateMaintenanceView.xml" />
        <property name="onDocumentReadyScript" value="removeEmptyContextBar('KS-CourseOffering-View-ContextBar-PlaceHolder');"/>
        <property name="header">
            <bean parent="Uif-HeaderTwo"/>
        </property>
        <property name="breadcrumbOptions.breadcrumbOverrides">
            <list>

            </list>
        </property>
        <property name="items">
            <list>
                <!-- This dynamically updates the view-header -->
                <bean id="viewHeaderUpdater" parent="Uif-HorizontalBoxSection">
                    <property name="render" value="@{#showAllSections}" />
                    <property name="onDocumentReadyScript" value="updateViewHeaderText( '@{document.newMaintainableObject.dataObject.catalogCourseCode}' );" />
                </bean>

                <ref bean="KS-CourseOffering-CodeTargetSection"/>
                <ref bean="KS-CourseOffering-CreateChoiceSection"/>
            </list>
        </property>
        <property name="footer">
            <bean parent="KS-Uif-FooterBase">
                <property name="items">
                    <list>
                        <bean parent="Uif-HorizontalBoxGroup">
                            <property name="items">
                                <list>
                                    <bean parent="KS-Uif-PrimaryActionButton" p:methodToCall="continueFromCreate" p:actionLabel="Continue" p:render="@{!#view.readOnly}"
                                          p:onClickScript="jQuery('#validateDirty')[0].value=false;"/>
                                    <bean parent="KS-Uif-ActionLink" p:methodToCall="cancel" p:actionLabel="Cancel"/>
                                </list>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>

    <bean id="KS-CourseOffering-CodeTargetSection" parent="Uif-VerticalBoxSection">
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="targetTermCode" p:required="true" p:id="targetTermCode"
                      p:label="Target Term" p:labelPlacement="TOP" p:fieldLabel.renderColon="false">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="10" p:watermarkText="201301" p:onClickScript="toggleTextBoxes(this);"/>
                    </property>
                    <property name="help">
                        <bean parent="Uif-Help" p:tooltipHelpContent="Term is required to retrieve the correct version of the Catalog Course"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="catalogCourseCode" p:id="catalogCourseCode"
                      p:label="Catalog Course Code" p:labelPlacement="TOP" p:required="true" p:fieldLabel.renderColon="false">
                    <property name="refreshWhenChangedPropertyNames" value="targetTermCode"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="10" p:watermarkText="ENGL237">
                            <property name="disabled" value="@{#dp.targetTermCode eq null}"/>
                            <property name="evaluateDisabledOnKeyUp" value="true"/>
                        </bean>
                    </property>
                    <property name="quickfinder.dataObjectClassName" value="org.kuali.student.r2.lum.course.dto.CourseInfo"/>
                    <property name="quickfinder.viewName" value="CourseInfoByTermLookupView"/>
                    <property name="quickfinder.fieldConversions">
                        <map>
                            <entry key="code" value="catalogCourseCode"/>
                        </map>
                    </property>
                    <property name="quickfinder.lookupParameters">
                        <map>
                            <entry key="targetTermCode" value="termId"/>
                            <entry key="catalogCourseCode" value="code"/>
                        </map>
                    </property>
                    <property name="quickfinder.quickfinderAction">
                        <bean parent="Uif-ActionLink" p:actionLabel="Find a Course" p:style="display:block" p:methodToCall="performLookup"  />
                    </property>
                    <property name="quickfinder.lightBoxLookup">
                        <bean parent="Uif-LightBoxPost" p:lookupReturnByScript="false"/>
                    </property>
                    <property name="suggest">
                        <bean parent="Uif-Suggest" p:render="true" p:valuePropertyName="catalogCourseCode">
                            <property name="returnFullQueryObject" value="true"/>
                            <property name="suggestQuery">
                                <bean parent="Uif-AttributeQueryConfig" p:queryMethodToCall="retrieveCourseCodes" p:queryMethodArgumentFieldList="document.newMaintainableObject.dataObject.targetTermCode"/>
                            </property>
                            <property name="templateOptions">
                                <map merge="true">
                                    <entry key="minLength" value="1"/>
                                </map>
                            </property>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-CourseOffering-CreateChoiceSection" parent="Uif-VerticalBoxSection">
        <property name="headerText" value="Create From:"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField-LabelTop" p:propertyName="createFromCatalog" p:required="true" p:defaultValue="true">
                    <property name="control">
                        <bean parent="Uif-VerticalRadioControl">
                            <property name="options">
                                <list>
                                    <bean parent="Uif-KeyLabelPair" p:key="true" p:value="[css='co_radiobutton_label']Catalog [css='it_radiobutton']Default catalog information will be used to create the Course Offering. User will build required activities.[/css][/css]"/>
                                    <bean parent="Uif-KeyLabelPair" p:key="false" p:value="[css='co_radiobutton_label']Existing Course Offering [css='it_radiobutton']Select a previously offered course of the same catalog version to create your new course offering. Previously offered activities will be copied to the new Course Offering for the target term.[/css][/css]"/>
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <!-- Create Course Offering End -->

    <!-- Copy Course Offerings Start -->

    <bean id="KS-CourseOffering-CopyPage" parent="KS-Uif-Page" p:disclosure.render="false" p:readOnly="@{#view.readOnly}">
        <property name="id" value="courseOfferingCopyPage"/>
        <property name="headerText" value="Copy Course Offering"/>
        <property name="pageSourceFile" value="CourseOfferingCreateMaintenanceView.xml" />
        <property name="onDocumentReadyScript" value="resetHeaderPosition('KS-CourseOffering-View-ContextBar-PlaceHolder');"/>
        <property name="header">
            <bean parent="Uif-HeaderTwo"/>
        </property>
        <property name="breadcrumbOptions.breadcrumbOverrides">
            <list>
                <bean parent="Uif-BreadcrumbItem">
                    <property name="label" value="Create Course Offering"/>
                    <property name="url.viewId" value="createCourseOfferingPage"/>
                    <property name="url.controllerMapping" value="courseOfferingCreate"/>
                    <property name="url.requestParameters">
                        <map key-type="java.lang.String" merge="true">
                            <entry key="methodToCall" value="start"/>
                            <entry key="dataObjectClassName" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingCreateWrapper"/>
                            <entry key="hideReturnLink" value="true"/>
                            <entry key="showMaintenanceLinks" value="true"/>
                            <entry key="viewName" value="Create Course Offering"/>
                        </map>
                    </property>
                </bean>
                <bean parent="Uif-BreadcrumbItem">
                    <property name="label" value="Create @{document.newMaintainableObject.dataObject.catalogCourseCode}"/>
                </bean>
            </list>
        </property>

        <property name="items">
            <list>
                <ref bean="KS-CourseOffering-ContextBar"/>
                <ref bean="KS-CreateFromExistingOffering"/>
                <bean parent="Uif-HorizontalBoxSection">
                    <property name="render" value="true" />
                    <property name="onDocumentReadyScript" value="updateViewHeaderText( '@{document.newMaintainableObject.dataObject.catalogCourseCode}' );" />
                </bean>
            </list>
        </property>
        <property name="footer">
            <bean parent="Uif-FooterBase">
                <property name="items">
                    <list>
                        <bean parent="Uif-HorizontalBoxGroup">
                            <property name="cssClasses">
                                <list merge="true">
                                    <value>ac_stickyfooter</value>
                                </list>
                            </property>
                            <property name="items">
                                <list>
                                    <bean parent="KS-Uif-PrimaryActionButton" p:methodToCall="createFromCopy" p:actionLabel="Create" p:render="@{!#view.readOnly}"
                                            p:onClickScript="jQuery('#validateDirty')[0].value=false;"/>
                                    <bean parent="Uif-ActionLink" p:methodToCall="cancel" p:actionLabel="Cancel"
                                          p:render="@{#actionFlags[#Constants.KUALI_ACTION_CAN_CANCEL]}"/>
                                </list>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>


    <!--This will be displayed when user selects create from existing COs-->
    <bean id="KS-CreateFromExistingOffering" parent="Uif-VerticalBoxSection">
        <property name="items">
        <list>
            <ref bean="KS-ExistingOffering-ListCOs"/>
            <ref bean="KS-ExistingOffering-ConfigureCopySubSection"/>
        </list>
        </property>
    </bean>

    <bean id="KS-ExistingOffering-ConfigureCopySubSection" parent="Uif-VerticalBoxSection" p:disclosure.render="false" p:disclosure.defaultOpen="false" p:headerText="Options">
        <property name="cssClasses">
            <list merge="true">
                <value>co_copy_tables</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="excludeCancelledActivityOfferings" p:fieldLabel.renderColon="false">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl">
                            <property name="checkboxLabel" value="Exclude cancelled Activity Offerings"/>
                        </bean>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="excludeSchedulingInformation" p:fieldLabel.renderColon="false">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl">
                            <property name="checkboxLabel" value="Exclude scheduling information"/>
                        </bean>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="excludeInstructorInformation" p:fieldLabel.renderColon="false">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl">
                            <property name="checkboxLabel" value="Exclude instructor information"/>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- Displays a list of COs from current and previous terms-->
    <bean id="KS-ExistingOffering-ListCOs" parent="Uif-TableCollectionSection" p:collectionLookup.render="false" p:renderAddLine="false">
		<property name="cssClasses">
            <list merge="true">
                <value>co_copy_tables</value>
            </list>
		</property>
        <property name="headerText" value="@{document.newMaintainableObject.dataObject.existingTermOfferings.size()>1 ? 'Course Offerings Available for Copying' : 'Course Offering Available for Copying' }" />
		<property name="collectionObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingEditWrapper" />
		<property name="propertyName" value="existingTermOfferings" />
		<property name="layoutManager.renderSequenceField" value="false" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
        <property name="layoutManager.richTable.templateOptions">
            <map merge="true">
                <entry key="sDom" value="rtip"/>
                <entry key="bPaginate" value="@{document.newMaintainableObject.dataObject.existingTermOfferings.size()>1}"/>
                <entry key="aoColumns" value="oTable.fnSetColumnVis( 0, false );"/>
            </map>
        </property>
		<property name="items">
           <list>
               <bean parent="Uif-InputField" p:propertyName="isChecked" p:label="" p:onDocumentReadyScript="replaceCheckBoxWithRadio('KS-ExistingOffering-ListCOs');"
                     p:render="@{document.newMaintainableObject.dataObject.existingTermOfferings.size()>1}">
                   <property name="control">
                       <bean parent="Uif-CheckboxControl"/>
                   </property>
               </bean>
               <bean parent="Uif-DataField" p:propertyName="courseOfferingCode" p:label="Course Offering Code">
                   <property name="inquiry">
                       <bean parent="Uif-Inquiry" p:dataObjectClassName="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingEditWrapper"  p:inquiryParameters="courseOfferingId" />
                   </property>
               </bean>
               <bean parent="Uif-DataField" p:propertyName="term.code" p:label="Offered Term"/>
               <bean parent="Uif-DataField" p:propertyName="courseOfferingInfo.courseOfferingTitle" p:label="Course Title"/>
               <bean parent="Uif-DataField" p:propertyName="courseOfferingInfo.creditCnt" p:label="Credits"/>
               <bean parent="Uif-DataField" p:propertyName="gradingOption" p:label="Grading"/>
           </list>
         </property>
         <property name="renderLineActions" value="false"/>
    </bean>

    <!-- Copy Course Offerings End-->

    <!-- MAINTENACE DOCUMENT DEFINITION -->

    <bean id="CourseOfferingCreateMaintenanceDocument" parent="CourseOfferingCreateMaintenanceDocument-parentBean"/>

    <bean id="CourseOfferingCreateMaintenanceDocument-parentBean" abstract="true" parent="uifMaintenanceDocumentEntry">
        <property name="dataObjectClass" value="org.kuali.student.enrollment.class2.courseoffering.dto.CourseOfferingCreateWrapper"/>
        <property name="maintainableClass" value="org.kuali.student.enrollment.class2.courseoffering.service.impl.CourseOfferingCreateMaintainableImpl"/>
        <property name="businessRulesClass" value="org.kuali.student.enrollment.class2.courseoffering.rule.CourseOfferingCreateRule" />
        <property name="documentTypeName" value="CourseOfferingCreateMaintenanceDocument"/>
        <property name="lockingKeys">
            <list>
                <value>courseOfferingInfo.id</value>
            </list>
        </property>
    </bean>

</beans>