<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.kuali.pom</groupId>
        <artifactId>kuali-common</artifactId>
        <version>2.1.47</version>
    </parent>
    <groupId>org.kuali.student</groupId>
    <artifactId>student</artifactId>
    <version>2.0.0-SNAPSHOT</version>
    <packaging>pom</packaging>
    <name>Kuali Student</name>
    <modules>
        <module>ks-core</module>
        <module>ks-lum</module>
        <module>ks-enroll</module>
        <module>ks-deployments</module>
    </modules>
    <properties>
        <oracle.dba.username>SYS AS SYSDBA</oracle.dba.username>
        <oracle.dba.password></oracle.dba.password>
        <mysql.dba.username>root</mysql.dba.username>
        <mysql.dba.password></mysql.dba.password>
        <oracle.version>11.2.0.2</oracle.version>
        <oracle.artifactId>ojdbc6_g</oracle.artifactId>
        <mysql.version>5.1.18</mysql.version>
        <kuali.rice.version>2.2.0</kuali.rice.version>
        <ks.core.version>2.0.0-SNAPSHOT</ks.core.version>
        <ks.enroll.version>1.0.0-SNAPSHOT</ks.enroll.version>
        <ks.lum.version>2.0.0-SNAPSHOT</ks.lum.version>

        <!-- Properties for the meta-inf plugin to create lists of sql file locations -->
        <metainf.schema>**/initial-db/**/ks-*create-schema.sql</metainf.schema>
        <metainf.data>**/initial-db/**/data/*.sql</metainf.data>
        <metainf.constraints>**/initial-db/**/ks-*constraints.sql</metainf.constraints>

        <!-- Meta inf base output -->
        <metainf.output>classpath:META-INF/sql/${db.vendor}/${project.artifactId}</metainf.output>
    </properties>
    <profiles>
        <profile>
            <id>validate-sql</id>
            <properties>
                <db.rice.baseline.schema>rice-impex-server-bootstrap</db.rice.baseline.schema>
                <db.ks.rice.schema>ks-rice-sql</db.ks.rice.schema>
                <db.project.schema>${project.artifactId}</db.project.schema>

                <!-- SQL resources -->
                <sql.schema.1>classpath:sql/oracle/${db.rice.baseline.schema}.sql</sql.schema.1>
                <sql.schema.2.list>${metainf.output}/${db.project.schema}-schema.resources</sql.schema.2.list>
                <sql.schema.3.list>${metainf.output}/${db.ks.rice.schema}-schema.resources</sql.schema.3.list>

                <sql.data.1.list>${db.rice.baseline.schema}-data.resources</sql.data.1.list>
                <sql.data.2.list>${metainf.output}/${db.ks.rice.schema}-data.resources</sql.data.2.list>
                <sql.data.3.list>${metainf.output}/${db.project.schema}-data.resources</sql.data.3.list>

                <sql.constraints.1>classpath:sql/oracle/${db.rice.baseline.schema}-constraints.sql</sql.constraints.1>
                <sql.constraints.2.list>${metainf.output}/${db.ks.rice.schema}-constraints.resources</sql.constraints.2.list>
                <sql.constraints.3.list>${metainf.output}/${db.project.schema}-constraints.resources</sql.constraints.3.list>

                <!-- upgrade folders run last -->
                <sql.constraints.4.list>${metainf.output}/${db.ks.rice.schema}-upgrades.resources</sql.constraints.4.list>
                <sql.constraints.5.list>${metainf.output}/${db.project.schema}-upgrades.resources</sql.constraints.5.list>

                <sql.schema.concurrent>sql.schema.2.list,sql.schema.3.list</sql.schema.concurrent>
                <sql.schema.sequential>sql.schema.1</sql.schema.sequential>

                <sql.data.concurrent>sql.data.3.list</sql.data.concurrent>
                <sql.data.sequential>sql.data.1,sql.data.2.list</sql.data.sequential>

                <sql.constraints.concurrent>sql.constraints.2.list,sql.constraints.3.list</sql.constraints.concurrent>
                <sql.constraints.sequential>sql.constraints.1</sql.constraints.sequential>
            </properties>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.kuali.maven.plugins</groupId>
                        <artifactId>spring-maven-plugin</artifactId>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>
</project>
