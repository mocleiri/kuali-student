<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2005-2013 The Kuali Foundation Licensed under the Educational
	Community License, Version 2.0 (the "License"); you may not use this file
	except in compliance with the License. You may obtain a copy of the License
	at http://www.opensource.org/licenses/ecl2.php Unless required by applicable
	law or agreed to in writing, software distributed under the License is distributed
	on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
	express or implied. See the License for the specific language governing permissions
	and limitations under the License. -->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="KS-CourseView-Logistics-Section" parent="KS-CourseView-VerticalBoxSection">
        <property name="headerText" value="Course Logistics"/>
        <property name="items">
            <list>
                <ref bean="KS-CourseView-CourseLogisticsPage-Scheduling-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-DurationCount-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-LearningResults-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-GradesAssessments-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-StudentRegistrationOptions-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-FinalExam-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-Outcome-Widgets" />
                <ref bean="KS-CourseView-CourseLogisticsPage-CourseFormats-Widgets" />
            </list>
        </property>
    </bean>

    <bean id="KS-CourseView-CourseLogisticsPage-Scheduling-Widgets" parent="Uif-VerticalBoxSection" p:headerText="Scheduling">
        <property name="cssClasses">
            <list merge="true">
                <value>admin-not-required-field</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="courseInfo.termsOffered"
                      p:label="Term"
                      p:instructionalText="Selecting a single term will restrict this course to only that term. Any will allow the
								course to be offered in any term that matches the duration selected below.">
                    <property name="control">
                        <bean parent="Uif-VerticalCheckboxesControl" />
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.lum.lu.ui.course.keyvalues.TermsKeyValueFinder" p:addBlankOption="false" />
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="KS-CourseView-CourseLogisticsPage-DurationCount-Widgets"
          parent="Uif-HorizontalBoxSection" p:headerText="Duration Count"
          p:instructionalText="First select the duration type (term, month, week, weekend, day) then select the count of the duration for the course.
			Most courses will have 1 or 2 terms, for example.">
        <property name="cssClasses">
            <list merge="true">
                <value>admin-not-required-field</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean id="KS-DurationTypeDropDown" parent="KS-Uif-InputField-LabelTop"
                      p:propertyName="courseInfo.duration.atpDurationTypeKey" p:label="Duration Type"
                      p:optionsFinderClass="org.kuali.student.lum.lu.ui.course.keyvalues.DurationTypeKeyValueFinder">
                    <property name="control">
                        <bean parent="KS-Uif-DropdownControl" p:cssClasses="validDurationTypeAndCountInput" p:onBlurScript="durationTypeOnBlur();"/>
                    </property>
                </bean>
                <bean id="KS-DurationTimeQuantity-Field" parent="KS-Uif-InputField-LabelTop"
                      p:label="Durantion Count" p:propertyName="courseInfo.duration.timeQuantity">
                    <property name="validCharactersConstraint">
                        <bean parent="NumericPatternConstraint" />
                    </property>
                    <property name="maxLength" value="3" />
                    <property name="control">
                        <bean parent="KS-Uif-TextControl" p:size="3" p:maxLength="3" p:cssClasses="validDurationTypeAndCountInput" p:onBlurScript="durationCountOnBlur();"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="KS-CourseView-CourseLogisticsPage-LearningResults-Widgets"
          parent="Uif-HorizontalBoxSection" p:headerText="Learning Results">
        <property name="instructionalText"
                  value="There are two types of learning results, Grades/Assessments and Credits/Outcomes. You can add multiple options
			for either type, which can be used for multiple course formats, or to account for variations in course offerings." />
    </bean>

    <bean id="KS-CourseView-CourseLogisticsPage-GradesAssessments-Widgets" parent="Uif-VerticalBoxSection"
          p:headerText="Grades/Assessments">
        <property name="validationMessages.displayMessages" value="false" />
        <property name="items">
            <list>
                <bean id="KS-CourseView-gradingOptions" parent="KS-Uif-InputField-LabelTop" p:propertyName="courseInfo.gradingOptions" >
                    <property name="control">
                        <bean parent="Uif-VerticalCheckboxesControl" />
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.lum.lu.ui.course.keyvalues.AssesmentKeyValueFinder" />
                    </property>

                    <property name="fieldLabel">
                         <bean parent="Uif-Label" p:labelText="Assessment Scale" p:renderColon="false">
                                <property name="richLabelMessage">
                                    <bean parent="Uif-KS-IconLabelMessage">
                                        <property name="iconToolTipText" value="&lt;b&gt;Letter, Standard Values&lt;b&gt;&lt;br&gt;
                                                                A,B,C,D,F&lt;br&gt;&lt;br&gt;&lt;b&gt;Satisfactory, unsatisfactory&lt;br&gt;&lt;br&gt;&lt;b&gt;Recital
                                                                Values&lt;b&gt; >60% pass&lt;br&gt;&lt;br&gt;&lt;b&gt;Recital Review&lt;b&gt;&lt;br&gt;Lorem
                                                                ipsum description of recital review&lt;br&gt;&lt;br&gt;&lt;b&gt;Design Review&lt;b&gt;&lt;br&gt;Lorem
                                                                ipsum description of design review&lt;br&gt;&lt;br&gt;&lt;b&gt;Completed
                                                                Notation&lt;b&gt;&lt;br&gt;complete,incomplete "/>
                                    </bean>
                                </property>
                            </bean>
                    </property>
                    <property name="simpleConstraint">
                        <bean parent="RequiredConstraint">
                            <property name="states">
                                <list>
                                    <value>R+</value>
                                </list>
                            </property>
                        </bean>
                    </property>
                    <!-- Rice 2.4 upgrade : removing fieldLabel.requiredMessage -->
<!--
                    <property name="fieldLabel.requiredMessage">
                        <bean parent="CM-StateAware-RequiredMessage" />
                    </property>
-->
                </bean>
            </list>
        </property>
    </bean>
    <bean id="KS-CourseView-CourseLogisticsPage-StudentRegistrationOptions-Widgets" parent="Uif-VerticalBoxSection"
          p:headerText="Student Registration Options" >
        <property name="cssClasses">
            <list merge="true">
                <value>admin-not-required-field</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="audit"
                      p:label="Audit" >
                    <property name="control">
                        <bean parent="KS-Uif-CheckboxControl" p:checkboxLabel="This course can be audited" />
                    </property>
                </bean>
                <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="passFail" p:label="Pass Fail Transcript Grade" >
                    <property name="control">
                        <bean parent="KS-Uif-CheckboxControl" p:checkboxLabel="This course will have a student selectable pass/fail option" />
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-CourseView-CourseLogisticsPage-FinalExam-Widgets"
          parent="Uif-VerticalBoxSection" p:headerText="Final Exam">
        <property name="validationMessages.displayMessages" value="false" />
        <property name="items">
            <list>
                <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="finalExamStatus" p:label="Final Exam Status" >
                    <property name="control">
                        <bean parent="KS-Uif-VerticalRadioControl" />
                    </property>
                    <property name="optionsFinder">
                        <bean class="org.kuali.student.lum.lu.ui.course.keyvalues.FinalExamKeyValueFinder"
                            p:addBlankOption="false" />
                    </property>
                    <property name="simpleConstraint">
                        <bean parent="RequiredConstraint">
                            <property name="states">
                                <list>
                                    <value>R+</value>
                                </list>
                            </property>
                        </bean>
                    </property>
                    <!-- Rice 2.4 upgrade : removing fieldLabel.requiredMessage -->
<!--
                    <property name="fieldLabel.requiredMessage">
                        <bean parent="CM-StateAware-RequiredMessage" />
                    </property>
-->
                </bean>
                <bean id="KS-FinalExamRationale" parent="KS-Uif-InputField-LabelTop"
                      p:label="Final Exam Rationale" p:required="true"
                      p:progressiveRender="#dp.finalExamStatus eq 'None' or #dp.finalExamStatus eq 'ALT'"
                      p:propertyName="finalExamRationale">
                    <property name="control">
                        <bean parent="Uif-LargeTextAreaControl" p:maxLength="255" />
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="KS-CourseView-CourseLogisticsPage-Outcome-Widgets"
          parent="Uif-StackedCollectionSection" p:headerText="Outcome" p:propertyName="creditOptionWrappers">
        <property name="validationMessages.displayMessages" value="false" />
        <property name="cssClasses">
            <list merge="true">
                <value>cm_requiredMessage_sectionHeader</value>
            </list>
        </property>
        <!-- Rice 2.4 upgrade : removing as required message is no longer available -->
<!--
        <property name="instructionalMessage">
            <bean parent="CM-StateAware-RequiredMessage" />
        </property>
-->
        <property name="collectionObjectClass" value="org.kuali.student.cm.course.form.ResultValuesGroupInfoWrapper" />
        <property name="addLineActions">
            <list>
                <bean parent="Uif-AddLineAction" p:actionLabel="Add Outcome">
                    <property name="actionImage">
                        <bean parent="Uif-Image" p:source="@{#ConfigProperties['ks.externalizable.images.url']+'/plus_grey.png'}"/>
                    </property>
                </bean>
            </list>
        </property>
        <property name="layoutManager.addLineGroup.header.render" value="false" />
        <property name="layoutManager.lineGroupPrototype.header.headerText" value="Outcome @{(#index + 1)}" />
        <property name="addLinePlacement" value="BOTTOM" />
        <property name="items">
            <list>
                <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="typeKey" p:label="Type" p:required="true" >
                    <property name="control">
                        <bean parent="KS-Uif-DropdownControl" p:onChangeScript="reDrawOutcomeComponent();">
                            <property name="options">
                                <list>
                                    <bean parent="Uif-KeyLabelPair" p:key="1" p:value="" />
                                    <bean parent="Uif-KeyLabelPair" p:key="kuali.result.values.group.type.fixed" p:value="Fixed" />
                                    <bean parent="Uif-KeyLabelPair" p:key="kuali.result.values.group.type.multiple" p:value="Multiple" />
                                    <bean parent="Uif-KeyLabelPair" p:key="kuali.result.values.group.type.range" p:value="Range" />
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
                <bean id="fixedCreditVale" parent="KS-Uif-InputField-LabelTop"
                      p:render="@{#lp.typeKey eq 'kuali.result.values.group.type.fixed'}"
                      p:label="Credit Value" p:propertyName="resultValueRange.minValue">
                    <property name="validCharactersConstraint">
                        <bean parent="NumericPatternConstraint" />
                    </property>
                </bean>
                <bean  id="MinRangeCreditVale" parent="KS-Uif-InputField-LabelTop"
                       p:render="@{#lp.typeKey eq 'kuali.result.values.group.type.range'}"
                       p:label="Minimum Credit Value" p:propertyName="resultValueRange.minValue">
                    <property name="validCharactersConstraint">
                        <bean parent="NumericPatternConstraint" />
                    </property>
                </bean>
                <bean id="MaxRangeCreditVale" parent="KS-Uif-InputField-LabelTop"
                      p:render="@{#lp.typeKey eq 'kuali.result.values.group.type.range'}"
                      p:label="Maximum Credit Value" p:propertyName="resultValueRange.maxValue">
                    <property name="validCharactersConstraint">
                        <bean parent="NumericPatternConstraint" />
                    </property>
                </bean>
            </list>
        </property>
        <property name="subCollections">
            <list>
                <bean parent="Uif-StackedCollectionSubSection"
                      p:collectionObjectClass="org.kuali.student.cm.course.form.ResultValueKeysWrapper"
                      p:progressiveRender="#lp.typeKey eq 'kuali.result.values.group.type.multiple'"
                      p:progressiveRenderViaAJAX="true" p:propertyName="resultValueKeysDisplay">
                     <property name="addLineActions">
                        <list>
                            <bean id="addBlankLine-outcome-multiple" parent="Uif-AddLineAction" p:actionLabel="Add"/>
                        </list>
                    </property>
                    <property name="addLinePlacement" value="BOTTOM" />
                    <property name="addLineLabel.messageText" value=" " />
                    <property name="items">
                        <list>
                            <bean id="outcome-multiple-credit" parent="KS-Uif-InputField-LabelTop" p:label="Credit Value"
                                  p:propertyName="creditValueDisplay">
                                <property name="validCharactersConstraint">
                                    <bean parent="NumericPatternConstraint" />
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="KS-CourseView-CourseLogisticsPage-CourseFormats-Widgets"
          parent="Uif-StackedCollectionSection" p:headerText="Course Format(s)"
          p:propertyName="courseInfo.formats" p:collectionObjectClass="org.kuali.student.r2.lum.course.dto.FormatInfo">
        <property name="instructionalText"
                  value="Each course format can consist of any number of activities, and you may have more than one course format for this course." />
        <!--<property name="help">
            <bean parent="Uif-KS-Help"
                  p:tooltipHelpContent="Is your course taught differently in the school&lt;br&gt;year than it is in the summer? For example,&lt;br&gt;online in the summer, lecture/lab in the fall. If&lt;br&gt;so, you will need two course formats." />
        </property>-->
        <property name="header">
            <bean parent="Uif-KS-IconHeader">
                <property name="richHeaderMessage.iconToolTipText" value="Is your course taught differently in the school&lt;br&gt;year than it is in the summer? For example,&lt;br&gt;online in the summer, lecture/lab in the fall. If&lt;br&gt;so, you will need two course formats."/>
            </bean>
        </property>
        <property name="addLinePlacement" value="BOTTOM" />
        <!--<property name="renderAddBlankLineButton" value="true" />-->
        <property name="addLineActions">
            <list>
                <bean parent="Uif-AddLineAction" p:actionLabel="Add Additional Format">
                    <property name="actionImage">
                        <bean parent="Uif-Image" p:source="@{#ConfigProperties['ks.externalizable.images.url']+'/plus_grey.png'}"/>
                    </property>
                </bean>
            </list>
        </property>
        <property name="addLineLabel.messageText" value=" " />
        <property name="layoutManager.lineGroupPrototype.header.headerText"
                  value="Format @{(#index + 1)}" />
        <property name="subCollections">
            <list>
                <bean parent="Uif-StackedSubCollection-WithinSection"
                      p:collectionObjectClass="org.kuali.student.r2.lum.course.dto.ActivityInfo"
                      p:propertyName="activities">
                    <property name="addLinePlacement" value="BOTTOM" />
                    <!--<property name="renderAddBlankLineButton" value="true" />-->
                    <property name="addLineActions">
                        <list>
                            <bean parent="Uif-AddLineAction" p:actionLabel="Activity" />
                        </list>
                    </property>
                    <property name="addLineLabel.messageText" value="Activity " />
                    <property name="layoutManager.lineGroupPrototype.header.headerText"
                              value="Activity @{(#index + 1)}" />
                    <property name="items">
                        <list>
                            <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="typeKey"
                                  p:required="true" p:label="Activity Type"
                                  p:optionsFinderClass="org.kuali.student.lum.lu.ui.course.keyvalues.ActivityTypeKeyValueFinder" >
                                <property name="control">
                                    <bean parent="KS-Uif-DropdownControl" />
                                </property>
                            </bean>
                            <bean parent="Uif-HorizontalFieldGroup">
                                <property name="items">
                                    <list>
                                        <bean parent="KS-Uif-InputField-LabelTop" p:label="Contacted Hours"
                                              p:required="false" p:propertyName="contactHours.unitQuantity" >
                                            <property name="validCharactersConstraint">
                                                <bean parent="NumericPatternConstraint" />
                                            </property>
                                            <property name="maxLength" value="9" />
                                            <property name="control">
                                                <bean parent="KS-Uif-TextControl" p:size="9" />
                                            </property>
                                            <!--<property name="help">
                                                <bean parent="Uif-KS-Help"
                                                      p:tooltipHelpContent="Sum of contact hours will validate with&lt;br&gt;credits(from learning results)" />
                                            </property>  -->
                                        </bean>
                                        <bean parent="Uif-ImageField" p:source="@{#ConfigProperties['ks.externalizable.images.url']}/validation/info.png">
                                            <property name="toolTip">
                                                <bean parent="Uif-KS-Tooltip" p:tooltipContent="Sum of contact hours will validate with credits(from learning results)"/>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean parent="KS-Uif-InputField-LabelTop" p:propertyName="contactHours.unitTypeKey"
                                  p:label="Frequency" p:required="false"
                                  p:optionsFinderClass="org.kuali.student.lum.lu.ui.course.keyvalues.FrequencyKeyValueFinder" >
                                <property name="control">
                                    <bean parent="KS-Uif-DropdownControl" />
                                </property>
                            </bean>
                            <bean parent="Uif-HorizontalFieldGroup">
                                <property name="items">
                                    <list>
                                        <bean id="KS-Logistics-Format-DurationTypeDropDown" parent="KS-Uif-InputField-LabelTop"
                                              p:propertyName="duration.atpDurationTypeKey" p:label="Duration Type"
                                              p:optionsFinderClass="org.kuali.student.lum.lu.ui.course.keyvalues.DurationTypeKeyValueFinder">
                                            <property name="control">
                                                <bean parent="KS-Uif-DropdownControl"/>
                                            </property>
                                        </bean>

                                        <bean parent="Uif-ImageField" p:source="@{#ConfigProperties['ks.externalizable.images.url']}/validation/info.png">
                                            <property name="toolTip">
                                                <bean parent="Uif-KS-Tooltip" p:tooltipContent="First select the duration type(term,month,week,weekend,day)&lt;br&gt;then select the count of the duration for the course.&lt;br&gt;Most courses will have 1 or 2 terms,&lt;br&gt;for example"/>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <bean id="KS-Logistics-Format-DurationTimeQuantity-Field" parent="KS-Uif-InputField-LabelTop"
                                  p:label="Durantion Count" p:propertyName="duration.timeQuantity">
                                <property name="validCharactersConstraint">
                                    <bean parent="NumericPatternConstraint" />
                                </property>
                                <property name="maxLength" value="3" />
                                <property name="control">
                                    <bean parent="KS-Uif-TextControl" p:size="3" p:maxLength="3"/>
                                </property>
                            </bean>
                            <bean parent="Uif-HorizontalFieldGroup">
                                <property name="items">
                                    <list>
                                        <bean parent="KS-Uif-InputField-LabelTop" p:label="Anticipated Class Size"
                                              p:propertyName="defaultEnrollmentEstimate">
                                            <property name="validCharactersConstraint">
                                                <bean parent="NumericPatternConstraint" />
                                            </property>
                                            <property name="maxLength" value="3" />
                                            <property name="control">
                                                <bean parent="KS-Uif-TextControl" p:size="3" p:maxLength="3" />
                                            </property>
                                        </bean>
                                        <bean parent="Uif-ImageField" p:source="@{#ConfigProperties['ks.externalizable.images.url']}/validation/info.png">
                                            <property name="toolTip">
                                                <bean parent="Uif-KS-Tooltip" p:tooltipContent="This does not have to be exact - it will be used&lt;br&gt;as an estimate for evaluation purposes only."/>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
</beans>